import{_ as F,g as x,T as h,r as S,c as L,w as D,o as s,a as t,e as a,t as i,h as _,j as p,v as k,u as l,k as u,f as g,F as C,l as N,b as T,d as j}from"./app-ZdgCr1Xe.js";const z={key:0,class:"notification"},E={id:"caixa"},I={id:"lado-esquerdo"},O={id:"texto-principal"},R={id:"titulo-texto"},X={id:"conteiner-texto"},G={id:"rodape"},H={class:"publicacao-header"},J={class:"publicacao-titulo"},K={class:"publicacao-id"},Q={class:"publicacao-descricao"},W={id:"lado-direito"},Y={class:"box-detalhes"},Z={class:"box-info"},tt={key:0,class:"modal-overlay"},et={class:"modal-content"},ot={class:"form-group"},lt=["onUpdate:modelValue","value","name"],st={class:"form-group"},at={key:1,class:"modal-overlay"},it={class:"modal-content"},nt={id:"tabela"},dt={class:"minimal-table"},rt={__name:"DetalhesPacientes",props:{detalhes:Object,paciente:Object,tramites_paciente:Array,message:String,consultas:Array,arquivos:Array},setup(d){const c=d;function w(r){const[e]=r.split("T"),[b,y,o]=e.split("-");return`${o}/${y}/${b}`}const q=x([]),M=r=>{q.value=Array.from(r.target.files),V.arquivos=q.value},v=h({texto_principal:c.detalhes.texto_principal}),V=h({arquivos:[]}),n=h({titulo:"",descricao:"",consulta:[]}),m=x(!1),P=()=>{m.value=!0},U=()=>{m.value=!1},f=x(!1),$=()=>{f.value=!0},A=()=>{f.value=!1};return(r,e)=>{const b=S("Link"),y=S("Layout");return s(),L(y,null,{conteudo:D(()=>[t("form",{onSubmit:e[2]||(e[2]=u(o=>l(v).post("/create/paciente/detalhes"),["prevent"]))},[d.message?(s(),a("div",z,i(d.message),1)):_("",!0),t("div",E,[t("div",I,[t("div",O,[t("div",R,[t("h1",null,i(c.paciente.nome),1)]),t("div",X,[p(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=o=>l(v).texto_principal=o)},null,512),[[k,l(v).texto_principal]])]),t("div",G,[e[7]||(e[7]=t("button",{type:"submit"},"Salvar",-1)),t("input",{onChange:e[1]||(e[1]=(...o)=>r.armazena&&r.armazena(...o)),type:"file",name:"",value:"",style:{opacity:"0",position:"absolute","z-index":"-1"},ref:"fileInput"},null,544),t("button",{type:"button",onClick:$},"Escolher arquivo"),t("a",{href:"#",onClick:u(P,["prevent"])},"Novo")])]),(s(!0),a(C,null,g(d.tramites_paciente,o=>(s(),a("div",{class:"publicacao",key:o.id},[t("div",H,[t("h3",J,i(o.titulo),1),t("span",K,"ID: "+i(o.id),1)]),t("div",Q,[t("p",null,i(o.descricao),1)])]))),128))]),t("div",W,[t("div",Y,[t("div",Z,[e[8]||(e[8]=t("p",null,"Paciente Desde:",-1)),t("p",null,i(w(c.paciente.created_at)),1)]),e[9]||(e[9]=t("div",{class:"box-info"},[t("p",null,"Primeira Consulta:"),t("p",null,"03/10/2024")],-1)),e[10]||(e[10]=t("div",{class:"box-info"},[t("p",null,"Ultima Consulta:"),t("p",null,"14/10/2024")],-1)),e[11]||(e[11]=t("div",{class:"box-info"},[t("p",null,"Proxima Consulta:"),t("p",null,"20/10/2024")],-1))])])])],32),m.value?(s(),a("div",tt,[t("div",et,[e[13]||(e[13]=t("h1",null,"Registro de Consulta",-1)),e[14]||(e[14]=t("br",null,null,-1)),t("form",{onSubmit:e[5]||(e[5]=u(o=>l(n).post("/inserir/tramite"),["prevent"]))},[t("div",ot,[p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>l(n).titulo=o),type:"text",id:"titulo",placeholder:"TÃ­tulo"},null,512),[[k,l(n).titulo]]),(s(!0),a(C,null,g(d.consultas,o=>(s(),a("div",{style:{padding:"05px"},key:o.id},[p(t("input",{"onUpdate:modelValue":B=>l(n).consulta=B,value:o.id,type:"checkbox",name:"checkbox_"+o.id},null,8,lt),[[N,l(n).consulta]]),t("p",null," Consulta dia "+i(o.date),1)]))),128))]),t("div",st,[p(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>l(n).descricao=o),name:"descricao",id:"descricao"},null,512),[[k,l(n).descricao]])]),t("a",{href:"#",onClick:u(U,["prevent"])},"Fechar"),e[12]||(e[12]=t("button",{type:"submit"},"Salvar",-1))],32)])])):_("",!0),f.value?(s(),a("div",at,[t("div",it,[t("div",nt,[t("table",dt,[e[16]||(e[16]=t("thead",null,[t("tr",{style:{position:"sticky",top:"0","background-color":"white"}},[t("th",null,"#"),t("th",null,"Arquivo"),t("th",null,"X")])],-1)),t("tbody",null,[(s(!0),a(C,null,g(d.arquivos,o=>(s(),a("tr",{key:o.id},[t("td",null,i(o.id),1),t("td",null,i(o.nome),1),t("td",null,[T(b,{id:"inserir",href:"/download/arquivo/"+o.id},{default:D(()=>e[15]||(e[15]=[j("Baixar")])),_:2},1032,["href"])])]))),128))])])]),t("form",{onSubmit:e[6]||(e[6]=u(o=>l(V).post("/create/arquivos"),["prevent"]))},[t("input",{type:"file",onChange:M,multiple:""},null,32),e[17]||(e[17]=t("input",{type:"submit",value:"Enviar"},null,-1))],32),t("a",{href:"#",onClick:u(A,["prevent"])},"Fechar")])])):_("",!0)]),_:1})}}},pt=F(rt,[["__scopeId","data-v-dd5fbade"]]);export{pt as default};
